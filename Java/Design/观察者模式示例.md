## 观察者模式示例

> 即: 发布订阅模式
> 在对象之间定义一个一对多的依赖, 当一个对象状态改变的时候, 所有依赖的对象都会自动收到通知.

> 列出观察者模式写法(非仅此写法):

```java
public interface BackHomeObserver {
  void handleBackHome(long userId);
}

public class BackHomePromotionObserver implements BackHomeObserver {
  @Override
  public void handleBackHome(long userId) {
    // do something...
  }
}

public class BackHomeNotificationObserver implements BackHomeObserver {
  @Override
  public void handleBackHome(long userId) {
    // do something...
  }
}

public class MasterController {

  // 假设有这个服务类(依赖注入)
  private UserService userService;  

  private List<BackHomeObserver> backHomeObserver = new ArrayList<>();

  // 一次性设置好，之后也不可能动态的修改
  public void setBackHomeObservers(List<BackHomeObserver> observers) {
    backHomeObserver.addAll(observers);
  }

  public Long backHome(String fingerprint) {
    long userId = userService.backHome(fingerprint);
    // do something...
    for (BackHomeObserver observer : backHomeObserver) {
      observer.handleBackHome(userId);
    }
    return userId;
  }
}
```
